{% extends "base.html" %}

{% block title %}Patient Records | HealthCare+{% endblock %}
{% block page_title %}Patient Records{% endblock %}

{% block content %}
<section class="records-wrapper">

    <!-- ===== PAGE HEADER ===== -->
    <div class="page-header">
        <h2>Patient Medical Records</h2>
        <p>
            Access to patient data is governed by consent policies
            and emergency authorization rules
        </p>
    </div>

    <!-- ===== PATIENT INFO CARD ===== -->
    <div class="patient-info-card">
        <h3>Patient Information</h3>
        <div class="patient-info">
            <p><strong>Name:</strong> Patient_101</p>
            <p><strong>Patient ID:</strong> 101</p>
            <p><strong>Consent Status:</strong> Active</p>
            <p><strong>Last Accessed:</strong> 10 Feb 2026 Â· 09:30 PM</p>
        </div>
    </div>

    <!-- ===== RECORDS TABLE ===== -->
    <div class="records-table-wrapper">

        <table class="records-table">
            <thead>
                <tr>
                    <th>Record Type</th>
                    <th>Uploaded Date</th>
                    <th>Consent Scope</th>
                    <th>Access</th>
                </tr>
            </thead>
            <tbody>

                <tr>
                    <td>Blood Report</td>
                    <td>10 Feb 2026</td>
                    <td>Allowed</td>
                    <td>
                        <a href="#" class="btn-secondary">
                            View Record
                        </a>
                    </td>
                </tr>

                <tr>
                    <td>MRI Scan</td>
                    <td>05 Feb 2026</td>
                    <td>Allowed</td>
                    <td>
                        <a href="#" class="btn-secondary">
                            View Record
                        </a>
                    </td>
                </tr>

                <tr>
                    <td>Prescription</td>
                    <td>01 Feb 2026</td>
                    <td>Restricted</td>
                    <td>
                        <span>Consent Required</span>
                    </td>
                </tr>

            </tbody>
        </table>

    </div>

    <!-- ===== ACCESS NOTICE ===== -->
    <div class="access-notice">
        <span class="material-icons">security</span>
        <p>
            Every record access is logged with timestamp, user identity,
            and reason for access to meet healthcare compliance standards.
        </p>
    </div>

    <!-- ===== EMERGENCY ACCESS ===== -->
    <div class="emergency-access-card">
        <h3>Emergency (Break-Glass) Access</h3>
        <p>
            Use this option only when patient consent is unavailable
            and immediate medical intervention is required.
        </p>

        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label>Emergency Justification</label>
                <textarea
                    name="reason"
                    placeholder="Clearly document the medical emergency"
                    required
                ></textarea>
            </div>

            <button type="submit" class="btn-danger">
                Request Emergency Access
            </button>
        </form>
    </div>

    <!-- ===== COMPLIANCE NOTE ===== -->
    <div class="compliance-note">
        <p>
            Emergency access requests are reviewed by system administrators.
            Improper usage may result in access revocation or disciplinary action.
        </p>
    </div>

</section>
{% endblock %}
